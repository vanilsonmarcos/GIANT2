CREATE TABLE APOLICE (ID int(10) NOT NULL AUTO_INCREMENT, APOLICE_TIPO_ID int(10) NOT NULL, NUMERO varchar(64), SEGURADO_ID int(10) NOT NULL, DATA_INICIO date, DATA_FIM date, APOLICE_FRACIONAMENTO_ID int(10) NOT NULL, APOLICE_ESTADO_ID int(10) NOT NULL, VALOR_PREMIO numeric(13, 2), INSERIDO_POR int(10), ACTUALIZADO_POR int(10), REMOVIDO_POR int(10), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE VEICULO (ID int(10) NOT NULL AUTO_INCREMENT, VEICULO_CATEGORIA_ID int(10) NOT NULL, MATRICULA varchar(24), MARCA varchar(255), MODELO varchar(255), ANO_AQUISICAO int(4), CAPITAL_AQUISICAO numeric(13, 2), PESO_BRUTO int(10), N_LOTACAO int(10), ANO_FABRICO int(4), CILINDRADA int(10), REF_CHASSI varchar(64), DESCRICAO varchar(4000), INSERIDO_POR int(10), ACTUALIZADO_POR int(10), REMOVIDO_POR int(10), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID), UNIQUE INDEX (MATRICULA));
CREATE TABLE APOLICE_ESTADO (ID int(10) NOT NULL AUTO_INCREMENT, NOME varchar(255), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE PESSOA (ID int(10) NOT NULL AUTO_INCREMENT, PESSOA_TIPO_ID int(10) NOT NULL, NOME varchar(255), DATA_NASCIMENTO date, SEXO varchar(1), NBI varchar(64), NIF varchar(64) UNIQUE, ESTADO_CIVIL varchar(1), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID), UNIQUE INDEX (NBI));
CREATE TABLE APOLICE_TOMADOR (ID int(10) NOT NULL AUTO_INCREMENT, TOMADOR_ID int(10) NOT NULL, APOLICE_ID int(10) NOT NULL, DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE APOLICE_TIPO (ID int(10) NOT NULL AUTO_INCREMENT, SIGLA varchar(30), NOME varchar(255), INSERIDO_POR int(10), ACTUALIZADO_POR int(10), REMOVIDO_POR int(10), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID), UNIQUE INDEX (SIGLA));
CREATE TABLE PESSOA_ENDERECO (ID int(10) NOT NULL AUTO_INCREMENT, PESSOA_ID int(10) NOT NULL, TELEFONE varchar(80) UNIQUE, TELEFONE_ALTERNATIVO varchar(80), EMAIL varchar(100) UNIQUE, DATA_INSERCAO timestamp NULL, DATA_ACTULIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE PESSOA_TIPO (ID int(10) NOT NULL AUTO_INCREMENT, NOME_TIPO varchar(255), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE APOLICE_PAGAMENTO (ID int(10) NOT NULL AUTO_INCREMENT, APOLICE_ID int(10) NOT NULL, DESCONTOS numeric(13, 2), VALOR_PAGO numeric(13, 2), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE APOLICE_FRACIONAMENTO (ID int(10) NOT NULL AUTO_INCREMENT, FRACIONADO_EM varchar(10), NO_FRACOES int(10), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE VEICULO_CATEGORIA (ID int(10) NOT NULL AUTO_INCREMENT, NOME varchar(255), REMOVIDO_POR int(10), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE APOLICE_COBERTURA (ID int(10) NOT NULL AUTO_INCREMENT, APOLICE_TIPO_ID int(10) NOT NULL, COBERTURA_BASE bit(1), SIGLA varchar(30) UNIQUE, NOME varchar(255), DESCRICAO varchar(4000), INSERIDO_POR int(10), ACTUALIZADO_POR int(10), REMOVIDO_POR int(10), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, VALOR_PAGAR numeric(13, 2), DESCONTO numeric(13, 2), PRIMARY KEY (ID));
CREATE TABLE PRECO_CILINDRADA (ID int(10) NOT NULL AUTO_INCREMENT, NOME varchar(255), LOTACAO int(10), VEICULO_CATEGORIA_ID int(10) NOT NULL, PREMIO_TRIMESTRAL int(10), PREMIO_SEMESTRAL numeric(13, 2), PREMIO_ANUAL numeric(13, 2), CILINDRADA numeric(13, 2), DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE APOLICE_ITEM_SEGURADO (ID int(10) NOT NULL AUTO_INCREMENT, APOLICE_TIPO_ID int(10) NOT NULL, ITEM_ID int(10) NOT NULL, DATA_INSERCAO timestamp NULL, DATA_ACTUALIZACAO timestamp NULL, DATA_REMOCAO timestamp NULL, PRIMARY KEY (ID));
CREATE TABLE APOLICE_HISTORICO (ID int(10) NOT NULL AUTO_INCREMENT, APOLICE_ID int(10) NOT NULL, APOLICE_TIPO_ID int(10) NOT NULL, APOLICE_ESTADO_ID int(10) NOT NULL, ACCAO varchar(255), DATA int(10), AUTOR_ACCAO int(10), PRIMARY KEY (ID));
ALTER TABLE PESSOA_ENDERECO ADD CONSTRAINT FKPESSOA_END360638 FOREIGN KEY (PESSOA_ID) REFERENCES PESSOA (ID);
ALTER TABLE APOLICE ADD CONSTRAINT FKAPOLICE49224 FOREIGN KEY (APOLICE_TIPO_ID) REFERENCES APOLICE_TIPO (ID);
ALTER TABLE APOLICE ADD CONSTRAINT FKAPOLICE395825 FOREIGN KEY (SEGURADO_ID) REFERENCES PESSOA (ID);
ALTER TABLE APOLICE ADD CONSTRAINT FKAPOLICE218101 FOREIGN KEY (APOLICE_ESTADO_ID) REFERENCES APOLICE_ESTADO (ID);
ALTER TABLE PESSOA ADD CONSTRAINT FKPESSOA892258 FOREIGN KEY (PESSOA_TIPO_ID) REFERENCES PESSOA_TIPO (ID);
ALTER TABLE APOLICE_TOMADOR ADD CONSTRAINT FKAPOLICE_TO64820 FOREIGN KEY (TOMADOR_ID) REFERENCES PESSOA (ID);
ALTER TABLE APOLICE_TOMADOR ADD CONSTRAINT FKAPOLICE_TO613390 FOREIGN KEY (APOLICE_ID) REFERENCES APOLICE (ID);
ALTER TABLE APOLICE_PAGAMENTO ADD CONSTRAINT FKAPOLICE_PA210466 FOREIGN KEY (APOLICE_ID) REFERENCES APOLICE (ID);
ALTER TABLE APOLICE ADD CONSTRAINT FKAPOLICE599017 FOREIGN KEY (APOLICE_FRACIONAMENTO_ID) REFERENCES APOLICE_FRACIONAMENTO (ID);
ALTER TABLE VEICULO ADD CONSTRAINT FKVEICULO357677 FOREIGN KEY (VEICULO_CATEGORIA_ID) REFERENCES VEICULO_CATEGORIA (ID);
ALTER TABLE APOLICE_COBERTURA ADD CONSTRAINT FKAPOLICE_CO255895 FOREIGN KEY (APOLICE_TIPO_ID) REFERENCES APOLICE_TIPO (ID);
ALTER TABLE PRECO_CILINDRADA ADD CONSTRAINT FKPRECO_CILI487359 FOREIGN KEY (VEICULO_CATEGORIA_ID) REFERENCES VEICULO_CATEGORIA (ID);
ALTER TABLE APOLICE_ITEM_SEGURADO ADD CONSTRAINT FKAPOLICE_IT272194 FOREIGN KEY (APOLICE_TIPO_ID) REFERENCES APOLICE_TIPO (ID);
ALTER TABLE APOLICE_ITEM_SEGURADO ADD CONSTRAINT FKAPOLICE_IT332390 FOREIGN KEY (ITEM_ID) REFERENCES VEICULO (ID);
ALTER TABLE APOLICE_HISTORICO ADD CONSTRAINT FKAPOLICE_HI851163 FOREIGN KEY (APOLICE_ID) REFERENCES APOLICE (ID);
ALTER TABLE APOLICE_HISTORICO ADD CONSTRAINT FKAPOLICE_HI724695 FOREIGN KEY (APOLICE_TIPO_ID) REFERENCES APOLICE_TIPO (ID);
ALTER TABLE APOLICE_HISTORICO ADD CONSTRAINT FKAPOLICE_HI457370 FOREIGN KEY (APOLICE_ESTADO_ID) REFERENCES APOLICE_ESTADO (ID);
